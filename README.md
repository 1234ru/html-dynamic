## Что это такое и для чего это нужно?

Это средство для каталогизации HTML-макетов страниц сайта плюс HTML-шаблонизатор.

Когда для сайта делается вёрстка, её обычно сдают в виде набора статических HTML-макетов. Если страница имеет различные варианты (например, цена на товар может быть обычная и со скидкой), это вызывает определенные сложности. Приходится либо запихивать все возможные варианты в один макет, отчего он никогда не выглядит так, как в жизни, и его сложно отлаживать, либо делать отдельный макет на каждый вариант или даже на различные их комбинации.

Данный инструмент позволяет ***генерировать варианты страниц для просмотра налету*** (без необходимости сохранения отдельными файлами) на основании статических макетов HTML-вёрстки и простой конфигурации вариантов.

При этом автоматически генерируется ***каталог всех возможных вариантов страниц***, который позволяет просмотреть любой вариант ровно в том виде, в котором он используется на сайте. Наличие такого каталога позволяет содержать макеты в порядке. 

***Повторяющиеся части макетов*** (например, шапку и футер) ***можно переиспользовать***, вынося их в отдельный вложенный файл. Также доступны другие средства шаблонизации — ***циклы и подстановка данных*** (полезно для макетов, где есть длинные списки однотипных элементов, например, меню или товарный каталог). Используется [шаблонизатор websun](http://webew.ru/articles/3609.webew).


## Что нужно для работы

Для функционирования средства требуется веб-сервер с подключенным интерпретатором PHP.

([Установка nginx и PHP на Windows](https://gist.github.com/1234ru/7d54192e375d8e703d14c063e56e614f))

### Необходимые директивы для nginx

```nginx
        location ~ \.php$ {
                fastcgi_pass php-handler; # где-то должно быть такое: upstream php-handler { server unix:/run/php/php7.1-fpm.sock; }
                fastcgi_param SCRIPT_FILENAME $document_root$uri;
                include fastcgi_params;
        }
        
        index /index.php; # необязательно, но удобно для обращения к индексу по доменному имени без указания пути
```

## Как подключить

1. `git submodule add https://github.com/1234ru/html-dynamic.git`  
   `git submodule update --init --recursive`

1. `cp -r html-dynamic/example/* . ; rm doc.md`

1. В `index.php` меняем `..` на `html-dynamic` в подключении файла `HTMLdynamic.php`.
   Например, так: `sed -i 's/\.\./html-dynamic/' index.php`

1. Открываем `index.php` через браузер - он должен работать.


## Как использовать

* `index.php` — точка входа
* `config.php` — конфигурация
* `doc.md` — черновик пояснений
